(function(e){function t(t){for(var l,s,o=t[0],i=t[1],c=t[2],d=0,u=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&u.push(n[s][0]),n[s]=0;for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l]);m&&m(t);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],l=!0,o=1;o<a.length;o++){var i=a[o];0!==n[i]&&(l=!1)}l&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var l={},n={app:0},r=[];function s(t){if(l[t])return l[t].exports;var a=l[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=l,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)s.d(a,l,function(t){return e[t]}.bind(null,l));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var m=i;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var l=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],s=a("2877"),o={},i=Object(s["a"])(o,n,r,!1,null,null,null),c=i.exports,m=a("8c4f"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",{staticStyle:{height:"120px"}},[a("div",{attrs:{id:"top"}},[a("div",{attrs:{id:"logo"}},[e._v("Alan人事管理系统")]),a("div",{attrs:{id:"wel"}},[e._v("欢迎 "+e._s(e.user.username)+"，您的身份是："),e._l(e.user.roles,(function(t){return a("span",{key:t.id,domProps:{textContent:e._s(t.name)}})})),e._v(" "),a("span",{staticStyle:{"text-decoration":"underline"},on:{click:e.logout}},[e._v("[注销]")])],2)])]),a("el-container",[a("el-aside",{attrs:{width:"200px"}},[a("el-menu",{on:{select:e.selectMenu}},[a("el-menu-item",[a("i",{staticClass:"el-icon-s-home"}),e._v("欢迎页面")]),this.$store.getters.getEmployee?a("el-menu-item",{attrs:{index:"employee"}},[a("i",{staticClass:"el-icon-s-custom"}),e._v(" 员工管理 ")]):e._e(),this.$store.getters.getDepartment?a("el-menu-item",{attrs:{index:"department"}},[a("i",{staticClass:"el-icon-s-management"}),e._v("部门管理 ")]):e._e(),this.$store.getters.getRole?a("el-submenu",{attrs:{index:"permission_management"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),e._v("权限管理")]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"sysUser"}},[e._v("用户管理")]),a("el-menu-item",{attrs:{index:"sysRole"}},[e._v("角色管理")]),a("el-menu-item",{attrs:{index:"sysPermission"}},[e._v("权限管理")])],1)],2):e._e()],1)],1),a("el-main",[a("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-remove":e.removeTab},model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},e._l(e.tabs,(function(t){return a("el-tab-pane",{key:e.modules[t].name,attrs:{label:e.modules[t].title,name:e.modules[t].name}},[a(e.modules[t].component,{tag:"component"})],1)})),1)],1)],1),a("el-footer",{staticStyle:{height:"120px"}},[e._v("Footer")])],1)},u=[],p=(a("c975"),a("a434"),a("ac1f"),a("5319"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("el-row",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"编号"},model:{value:e.searchForm.number,callback:function(t){e.$set(e.searchForm,"number",t)},expression:"searchForm.number"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名"},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),a("el-form-item",{staticStyle:{width:"120px"}},[a("el-select",{attrs:{placeholder:"性别"},model:{value:e.searchForm.gender,callback:function(t){e.$set(e.searchForm,"gender",t)},expression:"searchForm.gender"}},[a("el-option",{attrs:{label:"男",value:"男"}}),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"年龄"},model:{value:e.searchForm.age,callback:function(t){e.$set(e.searchForm,"age",t)},expression:"searchForm.age"}})],1),a("el-form-item",[a("el-select",{attrs:{placeholder:"部门"},model:{value:e.searchForm["dep.id"],callback:function(t){e.$set(e.searchForm,"dep.id",t)},expression:"searchForm['dep.id']"}},[a("el-option",{attrs:{value:"",label:"选择部门"}}),e._l(e.depList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],2)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)],1)],1),a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"","highlight-current-row":""},on:{"current-change":e.selectTr}},[a("el-table-column",{attrs:{prop:"number",label:"编号",width:"200"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"200"}}),a("el-table-column",{attrs:{prop:"gender",label:"性别",width:"200"}}),a("el-table-column",{attrs:{prop:"age",label:"年龄",width:"200"}}),a("el-table-column",{attrs:{prop:"dep.name",label:"部门"}})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":e.pagination.size,total:e.pagination.total},on:{"current-change":e.selectPage}})],1),a("el-row",{staticStyle:{"margin-top":"10px","text-align":"left"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.showAdd}},[e._v("新增")]),a("el-button",{attrs:{type:"primary"},on:{click:e.showUpdate}},[e._v("修改")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteData}},[e._v("删除")])],1),a("el-dialog",{attrs:{title:e.type?"新增":"修改",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",staticStyle:{"text-align":"left"},attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"编号"}},[a("el-input",{model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[a("el-radio",{attrs:{label:"男"}}),a("el-radio",{attrs:{label:"女"}})],1)],1),a("el-form-item",{attrs:{label:"年龄"}},[a("el-input",{model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1),a("el-form-item",{attrs:{label:"部门"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择部门"},model:{value:e.form.dep.id,callback:function(t){e.$set(e.form.dep,"id",t)},expression:"form.dep.id"}},e._l(e.depList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1)],1)],1)}),h=[],f=(a("841c"),{name:"Employee",data:function(){return{type:!0,dialogVisible:!1,selectedId:-1,searchForm:{number:null,name:null,gender:"",age:null,"dep.id":""},form:{id:null,number:null,name:null,gender:null,age:null,dep:{id:null}},list:[],depList:[],pagination:{size:3,total:null,currentPage:1}}},methods:{selectPage:function(e){this.pagination.currentPage=e,this.search()},search:function(){this.searchForm.page=this.pagination.currentPage,this.searchForm.size=this.pagination.size,this.axios.get(this.tools.serverAddr+"emp",{params:this.searchForm}).then(function(e){this.list=e.data.data,this.pagination.total=e.data.total}.bind(this))},searchDep:function(){this.axios.get("/dep").then(function(e){this.depList=e.data}.bind(this))},searchById:function(){this.axios.get("/emp/"+this.selectedId).then(function(e){this.form=e.data,null==this.form.dep&&(this.form.dep={id:this.depList[0].id})}.bind(this))},selectTr:function(e){this.selectedId=e.id},showAdd:function(){this.searchDep(),this.type=!0,this.dialogVisible=!0},showUpdate:function(){var e=this;this.selectedId>-1?(this.searchDep(),this.searchById(),this.type=!1,this.dialogVisible=!0):this.$alert("请选中数据","警告",{confirmButtonText:"确定",callback:function(t){e.$message({type:"info",message:"action: ".concat(t)})}})},save:function(){this.type?this.add():this.update(),this.clearData()},add:function(){this.axios.post("/emp",this.form).then(function(e){1==e.data?(this.$message({message:"保存成功",type:"success"}),this.search()):this.$message.error("错了哦，这是一条错误消息")}.bind(this))},update:function(){this.axios.post("/emp",this.form).then(function(e){1==e.data?(this.$message({message:"保存成功",type:"success"}),this.search()):this.$message.error("错了哦，这是一条错误消息")}.bind(this))},deleteData:function(){this.selectedId>-1?this.axios.delete("/emp/"+this.selectedId).then(function(e){1==e.data?this.search():alert("系统错误")}.bind(this)):alert("请选中数据")},clearData:function(){this.dialogVisible=!1,this.selectedId=-1,this.form={id:null,number:null,name:null,gender:null,age:null,dep:{id:null}}}},created:function(){this.search(),this.searchDep()}}),b=f,g=Object(s["a"])(b,p,h,!1,null,"399d7d9c",null),v=g.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("el-row",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"编号"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{staticStyle:{width:"120px"}},[a("el-select",{attrs:{placeholder:"性别"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[a("el-option",{attrs:{label:"男",value:"男"}}),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"年龄"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1),a("el-form-item",[a("el-select",{attrs:{placeholder:"部门"},model:{value:e.form["dep.id"],callback:function(t){e.$set(e.form,"dep.id",t)},expression:"form['dep.id']"}},e._l(e.depList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)],1)],1),a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"","highlight-current-row":""},on:{"current-change":e.selectTr}},[a("el-table-column",{attrs:{prop:"number",label:"编号",width:"200"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"200"}}),a("el-table-column",{attrs:{prop:"gender",label:"性别",width:"200"}}),a("el-table-column",{attrs:{prop:"age",label:"年龄",width:"200"}}),a("el-table-column",{attrs:{prop:"dep.name",label:"部门"}})],1)],1),a("el-row",{staticStyle:{"margin-top":"10px","text-align":"left"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.showAdd}},[e._v("新增")]),a("el-button",{attrs:{type:"primary"},on:{click:e.showUpdate}},[e._v("修改")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteData}},[e._v("删除")])],1)],1)},x=[],w={name:"Department",data:function(){return{selectedId:-1,form:{number:null,name:null,gender:"",age:null,"dep.id":""},list:[],depList:[]}},methods:{search:function(){this.axios.get("/emp",{params:this.form}).then(function(e){this.list=e.data}.bind(this))},searchDep:function(){this.axios.get("/dep").then(function(e){this.depList=e.data}.bind(this))},selectTr:function(e){this.selectedId=e.id},showAdd:function(){this.$router.push({name:"EmpAdd"})},showUpdate:function(){var e=this;this.selectedId>-1?this.$router.push({name:"EmpUpdate",params:{id:this.selectedId}}):this.$alert("请选中数据","警告",{confirmButtonText:"确定",callback:function(t){e.$message({type:"info",message:"action: ".concat(t)})}})},deleteData:function(){this.selectedId>-1?this.axios.delete("/emp/"+this.selectedId).then(function(e){1==e.data?this.search():alert("系统错误")}.bind(this)):alert("请选中数据")}},created:function(){this.search(),this.searchDep()}},_=w,$=Object(s["a"])(_,y,x,!1,null,"2ff89715",null),k=$.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("el-row",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"编号"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{staticStyle:{width:"120px"}},[a("el-select",{attrs:{placeholder:"性别"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[a("el-option",{attrs:{label:"男",value:"男"}}),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"年龄"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1),a("el-form-item",[a("el-select",{attrs:{placeholder:"部门"},model:{value:e.form["dep.id"],callback:function(t){e.$set(e.form,"dep.id",t)},expression:"form['dep.id']"}},e._l(e.depList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)],1)],1),a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"","highlight-current-row":""},on:{"current-change":e.selectTr}},[a("el-table-column",{attrs:{prop:"number",label:"编号",width:"200"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"200"}}),a("el-table-column",{attrs:{prop:"gender",label:"性别",width:"200"}}),a("el-table-column",{attrs:{prop:"age",label:"年龄",width:"200"}}),a("el-table-column",{attrs:{prop:"dep.name",label:"部门"}})],1)],1),a("el-row",{staticStyle:{"margin-top":"10px","text-align":"left"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.showAdd}},[e._v("新增")]),a("el-button",{attrs:{type:"primary"},on:{click:e.showUpdate}},[e._v("修改")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteData}},[e._v("删除")])],1)],1)},I=[],D={name:"Employee",data:function(){return{selectedId:-1,form:{number:null,name:null,gender:"",age:null,"dep.id":""},list:[],depList:[]}},methods:{search:function(){this.axios.get("/emp",{params:this.form}).then(function(e){this.list=e.data}.bind(this))},searchDep:function(){this.axios.get("/dep").then(function(e){this.depList=e.data}.bind(this))},selectTr:function(e){this.selectedId=e.id},showAdd:function(){this.$router.push({name:"EmpAdd"})},showUpdate:function(){var e=this;this.selectedId>-1?this.$router.push({name:"EmpUpdate",params:{id:this.selectedId}}):this.$alert("请选中数据","警告",{confirmButtonText:"确定",callback:function(t){e.$message({type:"info",message:"action: ".concat(t)})}})},deleteData:function(){this.selectedId>-1?this.axios.delete("/emp/"+this.selectedId).then(function(e){1==e.data?this.search():alert("系统错误")}.bind(this)):alert("请选中数据")}},created:function(){this.search(),this.searchDep()}},O=D,S=Object(s["a"])(O,E,I,!1,null,"3bb8ef7a",null),L=S.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("el-row",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"编号"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{staticStyle:{width:"120px"}},[a("el-select",{attrs:{placeholder:"性别"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[a("el-option",{attrs:{label:"男",value:"男"}}),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"年龄"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1),a("el-form-item",[a("el-select",{attrs:{placeholder:"部门"},model:{value:e.form["dep.id"],callback:function(t){e.$set(e.form,"dep.id",t)},expression:"form['dep.id']"}},e._l(e.depList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)],1)],1),a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"","highlight-current-row":""},on:{"current-change":e.selectTr}},[a("el-table-column",{attrs:{prop:"number",label:"编号",width:"200"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"200"}}),a("el-table-column",{attrs:{prop:"gender",label:"性别",width:"200"}}),a("el-table-column",{attrs:{prop:"age",label:"年龄",width:"200"}}),a("el-table-column",{attrs:{prop:"dep.name",label:"部门"}})],1)],1),a("el-row",{staticStyle:{"margin-top":"10px","text-align":"left"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.showAdd}},[e._v("新增")]),a("el-button",{attrs:{type:"primary"},on:{click:e.showUpdate}},[e._v("修改")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteData}},[e._v("删除")])],1)],1)},F=[],A={name:"Employee",data:function(){return{selectedId:-1,form:{number:null,name:null,gender:"",age:null,"dep.id":""},list:[],depList:[]}},methods:{search:function(){this.axios.get("/emp",{params:this.form}).then(function(e){this.list=e.data}.bind(this))},searchDep:function(){this.axios.get("/dep").then(function(e){this.depList=e.data}.bind(this))},selectTr:function(e){this.selectedId=e.id},showAdd:function(){this.$router.push({name:"EmpAdd"})},showUpdate:function(){var e=this;this.selectedId>-1?this.$router.push({name:"EmpUpdate",params:{id:this.selectedId}}):this.$alert("请选中数据","警告",{confirmButtonText:"确定",callback:function(t){e.$message({type:"info",message:"action: ".concat(t)})}})},deleteData:function(){this.selectedId>-1?this.axios.delete("/emp/"+this.selectedId).then(function(e){1==e.data?this.search():alert("系统错误")}.bind(this)):alert("请选中数据")}},created:function(){this.search(),this.searchDep()}},P=A,U=Object(s["a"])(P,T,F,!1,null,"a7cf0690",null),j=U.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},M=[],C={name:"SysPermission"},B=C,V=Object(s["a"])(B,R,M,!1,null,"16a2ecd8",null),z=V.exports,q={name:"Index",data:function(){return{user:null,treeMenu:{isEmployee:!1,isDepartment:!1,isRole:!1},selectedTab:null,tabs:[],modules:{employee:{title:"员工管理",name:"employee",component:v},department:{title:"部门管理",name:"department",component:k},sysUser:{title:"用户管理",name:"sysUser",component:L},sysRole:{title:"角色管理",name:"sysRole",component:j},sysPermission:{title:"权限管理",name:"sysPermission",component:z}}}},methods:{selectMenu:function(e){this.tabs.indexOf(e)<0&&this.tabs.push(e),this.selectedTab=e},removeTab:function(e){var t=this.tabs.indexOf(e);this.tabs.splice(t,1),this.selectedTab=this.tabs[0]},logout:function(){this.axios.post(this.tools.serverAddr+"logout").then(function(){this.$message({message:"注销成功",type:"success",duration:1e3}),this.$router.replace({path:"/login"})}.bind(this)).catch(function(e){e.response&&console.log(e.response)}.bind(this))},getUser:function(){this.axios.get(this.tools.serverAddr+"sysUser/currentUser").then(function(e){if(console.log(e.data),null==e.data||""==e.data)this.$router.replace({path:"/login"});else{this.user=e.data;for(var t=e.data.roles,a=0;a<t.length;a++)switch(t[a].code){case"ROLE_ADMIN":this.$store.commit("setEmployee",!0),this.$store.commit("setDepartment",!0),this.$store.commit("setRole",!0);break;case"ROLE_MANAGER":this.$store.commit("setEmployee",!0),this.$store.commit("setDepartment",!0);break;case"ROLE_EMPLOYEE":this.$store.commit("setEmployee",!0);break}}}.bind(this)).catch(function(e){e.response&&console.log(e.response)}.bind(this))}},created:function(){this.getUser()}},J=q,N=(a("83f0"),Object(s["a"])(J,d,u,!1,null,"1d4fe215",null)),G=N.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"600px",margin:"150px auto"}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"账号"}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{"show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.doLogin}},[e._v("登录")]),a("el-button",[e._v("重置")])],1)],1)],1)},H=[],K={name:"Login",data:function(){return{form:{username:"",password:""}}},methods:{doLogin:function(){this.axios.post(this.tools.serverAddr+"doLogin",this.qs.stringify(this.form)).then(function(e){var t="";1==e.data.code?(t="登录成功",this.$router.replace({name:"Index"})):2==e.data.code&&(t="登录失败"),this.$message({message:t,type:"success",duration:1e3})}.bind(this)).catch(function(e){e.response&&console.log(e.response)}.bind(this))}}},Q=K,W=Object(s["a"])(Q,Y,H,!1,null,"71644280",null),X=W.exports;l["default"].use(m["a"]);var Z=[{path:"/",name:"Index",component:G},{path:"/login",name:"Login",component:X}],ee=new m["a"]({mode:"history",routes:Z}),te=ee,ae=a("bc3a"),le=a.n(ae),ne=a("5c96"),re=a.n(ne),se=(a("0fae"),a("4328")),oe=a.n(se),ie=a("2f62");l["default"].use(ie["a"]);var ce={employee:!1,department:!1,role:!1},me={getEmployee:function(){return ce.employee},getDepartment:function(){return ce.department},getRole:function(){return ce.role}},de={setEmployee:function(e){ce.employee=e},setDepartment:function(e){ce.department=e},setRole:function(e){ce.role=e},clear:function(){ce.employee=!1,ce.department=!1,ce.role=!1}},ue=new ie["a"].Store({state:ce,getters:me,mutations:de}),pe=ue,he="/api/",fe={serverAddr:he};l["default"].prototype.tools=fe,l["default"].prototype.qs=oe.a,l["default"].config.productionTip=!1,l["default"].prototype.axios=le.a,l["default"].use(re.a),new l["default"]({router:te,store:pe,render:function(e){return e(c)}}).$mount("#app")},"83f0":function(e,t,a){"use strict";var l=a("d2bb"),n=a.n(l);n.a},d2bb:function(e,t,a){}});
//# sourceMappingURL=app.33586778.js.map